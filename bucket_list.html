<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>World Bucket List</title>
    <style>
      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f7f7f7;
        color: #333;
        line-height: 1.6;
        padding: 20px;
      }

      h1 {
        text-align: center;
        margin-bottom: 1rem;
        font-size: 2.5rem;
        color: #333;
      }

      p {
        text-align: center;
        margin-bottom: 2rem;
        font-size: 1.1rem;
        color: #666;
      }

      .main-content {
        display: flex;
        justify-content: space-between;
        margin-left: 200px; /* Shift the main content to the right of the sidebar */
        width: calc(100% - 200px);
      }

      .country-button {
        display: block;
        width: 200px;
        margin: 20px auto;
        padding: 15px;
        background: #0056b3;
        border: none;
        color: #fff;
        text-align: center;
        font-size: 18px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        border-radius: 20px;
        text-transform: uppercase;
        font-weight: 600;
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
        background-size: contain;
        background-position: center;
        background-repeat: no-repeat;
      }

      .country-button:hover {
        background-color: #003d82;
      }

      /* Style for the country container */
      .country-container,
      .continent-container {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 1px 0;
        margin-right: 20px;
        order: 1;
        flex-grow: 0; /* Prevents the container from growing */

        /* Background properties */
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;

        /* Width settings */
        min-width: 450px; /* Adjusted minimum width */
      }

      #map {
        order: 2; /* Ensure this appears second */
        width: 50%; /* Adjust the width as per your requirement */
        height: 400px; /* Adjust the height as per your requirement */
      }

      .bucket-list-button {
        display: block; /* Make buttons block-level for full-width */
        width: calc(100% - 30px); /* Full width accounting for padding */
        padding: 15px; /* Uniform padding on all sides */
        margin: 5px 0; /* Minimal vertical space between buttons */
        border-radius: 5px;
        cursor: pointer;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        font-weight: 900; /* Maximum boldness */
        text-align: left; /* Align text to the left */
        border: none;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        background-color: #f5f5f5; /* Background color */
        background-size: 100% 1000%; /* Adjust this for the number of items */
        height: 50px; /* Adjust the height as needed */
        overflow: hidden;
        position: relative;
        color: #0000ff; /* Vibrant blue color for text */
        font-size: 16px; /* Font size */
        text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff,
          1px 1px 0 #fff; /* White outline effect */
        background-repeat: no-repeat; /* Prevent the background image from repeating */
      }

      .dropdown-content {
        border: 1px solid #ddd;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        padding: 10px;
        background-color: white;
        display: flex;
        flex-direction: column;
        align-items: center; /* Center align items */
        text-align: center; /* Center align text */
        font-family: Arial, sans-serif; /* Professional, clean font */
      }

      .description-container,
      .venues-container {
        width: 100%;
        font-size: 0.9em;
        margin-top: 10px; /* Space at the top */
      }

      .venues-container {
        margin-top: 10px; /* Add some space between the description and venues */
      }
      .venues-list {
        list-style: none;
        padding-left: 0;
        margin: 0;
        width: 100%; /* Full width of the container */
      }

      .venue-item {
        margin-bottom: 5px;
        padding: 5px;
        border-bottom: 1px solid #eee;
        padding: 5px;
        text-align: left;
      }

      .venue-item:last-child {
        border-bottom: none;
      }

      .venue-item b {
        color: #007bff; /* Stylish blue for names */
        font-weight: normal; /* Avoid overly bold fonts */
      }

      h3 {
        margin-top: 0;
        font-size: 1.1em; /* Slightly larger for headers */
      }

      .bucket-list-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }

      .bucket-list-button::after {
        content: attr(data-text); /* Use a data attribute for the text */
        position: absolute;
        left: 15px;
        bottom: 10px;
        background: rgba(
          255,
          255,
          255,
          0.5
        ); /* Semi-transparent white background */
        color: #0000ff;
        padding: 5px;
        border-radius: 5px;
      }

      .dropdown-content {
        display: none; /* Initially hidden */
        background-color: #f9f9f9; /* Light background for the content */
        border: 1px solid #ddd; /* A subtle border */
        border-radius: 4px; /* Rounded corners */
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* A light shadow for depth */
        padding: 10px; /* Some padding for internal spacing */
        margin-top: 5px; /* Space between the button and dropdown */
        width: 250px; /* Width of the dropdown */
        z-index: 1; /* Ensures dropdown is on top of other elements */
      }

      .dropdown-content p {
        margin: 0 0 10px; /* Space between paragraphs */
        line-height: 1.4; /* Line height for readability */
        color: #333; /* Dark color for text for better contrast */
      }

      .bucket-list-button:hover,
      .bucket-list-button:focus {
        background-color: #e7e7e7; /* Slightly darker on hover */
        cursor: pointer; /* Change cursor to indicate clickability */
      }

      /* Add more categories with unique gradients here */

      .default-category {
        background-color: #95a5a6; /* Default grey */
      }

      .bucket-list-button span {
        display: block;
        margin: 5px 0;
      }
      /* New styles for side panel with buttons */
      .sidebar {
        position: fixed; /* Fixed sidebar (stay in place on scroll) */
        left: 0;
        top: 0;
        width: 200px; /* Set the width of the sidebar */
        height: 100%; /* Full-height sidebar */
        padding: 20px 10px;
        background-color: #f1f1f1;
        overflow-x: hidden; /* Disable horizontal scroll */
      }

      /* Style for the buttons in the sidebar */
      .sidebar .country-button {
        display: block;
        width: 100%;
        margin: 10px 0;
        box-shadow: none;
        border-radius: 0;
        background-size: cover;
        background-position: center;
        color: white; /* Assuming white text */
        font-size: 18px; /* Adjust as needed */
        font-weight: bold; /* Bold text for better visibility */
        text-align: center; /* Center the text */
        padding: 15px 0; /* Add some padding */
        text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000,
          1px 1px 0 #000; /* Text outline effect */
        transition: all 0.3s ease; /* Smooth transition for hover effects */
      }

      .country-button:hover {
        background-color: rgba(
          255,
          255,
          255,
          0.2
        ); /* Slight highlight on hover */
        color: #000; /* Change text color on hover */
        text-shadow: none; /* Remove text shadow on hover for a different effect */
      }

      button {
        padding: 10px 20px;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        background-color: #f8f8f8;
        color: #333;
        font-size: 14px;
        font-weight: 600;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        transition: all 0.3s ease;
        position: relative; /* Position relative to allow absolute positioning inside */
        overflow: visible; /* Let the ::after content overflow */
      }

      button:hover {
        background-color: #e2e2e2;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        transform: translateY(-2px);
      }

      /* Continent button style */
      .continent-button {
        display: block;
        width: 100%;
        padding: 20px;
        margin-bottom: 10px;
        background: url("assets/images/flags/europe_flag.png") no-repeat center
            center,
          linear-gradient(to bottom, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3));
        background-size: cover;
        color: white;
        border: 3px solid black; /* Thick black outline */
        border-radius: 25px; /* Rounded corners */
        text-align: center;
        cursor: pointer;
        font-size: 20px;
        font-weight: 700;
        text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000,
          1px 1px 0 #000; /* Creating an outline effect */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        position: relative; /* Add relative positioning for the arrow */
      }

      /* Continent button hover effect */
      .continent-button:hover {
        background-color: #3e8e41; /* This will affect the color overlay on hover */
      }

      /* Add smaller right-pointing arrow on the right side of continent buttons */
      .continent-button::before {
        content: "";
        position: absolute;
        top: 50%;
        right: 5px;
        transform: translateY(-50%);
        width: 0;
        height: 0;
        border-left: 6px solid transparent; /* Adjust the arrow size */
        border-right: 0;
        border-top: 6px solid transparent;
        border-bottom: 6px solid transparent;
        border-left-color: #3498db; /* Black color for the arrow */
      }
      /* Add tall black arrow on the gray tab */
      .continent-button::before::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 0;
        transform: translateY(-50%);
        width: 0;
        height: 0;
        border-left: 10px solid transparent;
        border-right: 10px solid transparent;
        border-top: 20px solid #000; /* Black color for the arrow */
      }
    </style>
  </head>
  <body>
    <!-- Sidebar with country buttons -->

    <div class="sidebar">
      <!-- Global button -->
      <button
        class="continent-button"
        onclick="toggleContinent('Global')"
        style="background-image: url('assets/images/flags/global_flag.png')"
      >
        Global
      </button>

      <!-- Africa button -->
      <button
        class="continent-button"
        onclick="toggleContinent('Africa')"
        style="background-image: url('assets/images/flags/africa_flag.png')"
      >
        Africa
      </button>

      <!-- Asia button -->
      <button
        class="continent-button"
        onclick="toggleContinent('Asia')"
        style="background-image: url('assets/images/flags/asia_flag.png')"
      >
        Asia
      </button>

      <!-- Americas button -->
      <button
        class="continent-button"
        onclick="toggleContinent('Americas')"
        style="background-image: url('assets/images/flags/americas_flag.png')"
      >
        Americas
      </button>

      <!-- Europe button -->
      <button
        class="continent-button"
        onclick="toggleContinent('Europe')"
        style="background-image: url('assets/images/flags/europe_flag.png')"
      >
        Europe
      </button>

      <!-- Europe country buttons, initially hidden -->
      <div
        id="Europe-country-buttons"
        class="country-buttons"
        style="display: block; overflow-y: auto; max-height: 300px"
      >
        <button
          class="country-button"
          onclick="toggleCountry('France', 'Europe')"
          style="background-image: url('assets/images/flags/france_flag.png')"
        >
          France
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Italy','Europe')"
          style="background-image: url('assets/images/flags/italy_flag.png')"
        >
          Italy
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Spain','Europe')"
          style="background-image: url('assets/images/flags/spain_flag.png')"
        >
          Spain
        </button>
        <button
          class="country-button"
          onclick="toggleCountry('Germany','Europe')"
          style="background-image: url('assets/images/flags/germany_flag.png')"
        >
          Germany
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Netherlands','Europe')"
          style="
            background-image: url('assets/images/flags/netherlands_flag.png');
          "
        >
          Netherlands
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Portugal','Europe')"
          style="background-image: url('assets/images/flags/portugal_flag.png')"
        >
          Portugal
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Albania','Europe')"
          style="background-image: url('assets/images/flags/albania_flag.png')"
        >
          Albania
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Andorra','Europe')"
          style="background-image: url('assets/images/flags/andorra_flag.png')"
        >
          Andorra
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Armenia','Europe')"
          style="background-image: url('assets/images/flags/armenia_flag.png')"
        >
          Armenia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Austria','Europe')"
          style="background-image: url('assets/images/flags/austria_flag.png')"
        >
          Austria
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Azerbaijan','Europe')"
          style="
            background-image: url('assets/images/flags/azerbaijan_flag.png');
          "
        >
          Azerbaijan
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Belarus','Europe')"
          style="background-image: url('assets/images/flags/belarus_flag.png')"
        >
          Belarus
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Belgium','Europe')"
          style="background-image: url('assets/images/flags/belgium_flag.png')"
        >
          Belgium
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Bosnia','Europe')"
          style="background-image: url('assets/images/flags/bosnia_flag.png')"
        >
          Bosnia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Bulgaria','Europe')"
          style="background-image: url('assets/images/flags/bulgaria_flag.png')"
        >
          Bulgaria
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Croatia','Europe')"
          style="background-image: url('assets/images/flags/croatia_flag.png')"
        >
          Croatia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Cyprus','Europe')"
          style="background-image: url('assets/images/flags/cyprus_flag.png')"
        >
          Cyprus
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Czech','Europe')"
          style="
            background-image: url('assets/images/flags/czech_republic_flag.png');
          "
        >
          Czech Republic
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Denmark','Europe')"
          style="background-image: url('assets/images/flags/denmark_flag.png')"
        >
          Denmark
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Finland','Europe')"
          style="background-image: url('assets/images/flags/finland_flag.png')"
        >
          Finland
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Estonia','Europe')"
          style="background-image: url('assets/images/flags/estonia_flag.png')"
        >
          Estonia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Georgia','Europe')"
          style="background-image: url('assets/images/flags/georgia_flag.png')"
        >
          Georgia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Greece','Europe')"
          style="background-image: url('assets/images/flags/greece_flag.png')"
        >
          Greece
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Hungary','Europe')"
          style="background-image: url('assets/images/flags/hungary_flag.png')"
        >
          Hungary
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Iceland','Europe')"
          style="background-image: url('assets/images/flags/iceland_flag.png')"
        >
          Iceland
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Ireland','Europe')"
          style="background-image: url('assets/images/flags/ireland_flag.png')"
        >
          Ireland
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Kazakhstan','Europe')"
          style="
            background-image: url('assets/images/flags/kazakhstan_flag.png');
          "
        >
          Kazakhstan
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Kosovo','Europe')"
          style="background-image: url('assets/images/flags/kosovo_flag.png')"
        >
          Kosovo
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Latvia','Europe')"
          style="background-image: url('assets/images/flags/latvia_flag.png')"
        >
          Latvia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Liechtenstein','Europe')"
          style="
            background-image: url('assets/images/flags/liechtenstein_flag.png');
          "
        >
          Liechtenstein
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Lithuania','Europe')"
          style="
            background-image: url('assets/images/flags/lithuania_flag.png');
          "
        >
          Lithuania
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Luxembourg','Europe')"
          style="
            background-image: url('assets/images/flags/luxembourg_flag.png');
          "
        >
          Luxembourg
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Malta','Europe')"
          style="background-image: url('assets/images/flags/malta_flag.png')"
        >
          Malta
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Moldova','Europe')"
          style="background-image: url('assets/images/flags/moldova_flag.png')"
        >
          Moldova
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Monaco','Europe')"
          style="background-image: url('assets/images/flags/monaco_flag.png')"
        >
          Monaco
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Montenegro','Europe')"
          style="
            background-image: url('assets/images/flags/montenegro_flag.png');
          "
        >
          Montenegro
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('NorthMacedonia','Europe')"
          style="
            background-image: url('assets/images/flags/north_macedonia_flag.png');
          "
        >
          North Macedonia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Norway','Europe')"
          style="background-image: url('assets/images/flags/norway_flag.png')"
        >
          Norway
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Poland','Europe')"
          style="background-image: url('assets/images/flags/poland_flag.png')"
        >
          Poland
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Romania','Europe')"
          style="background-image: url('assets/images/flags/romania_flag.png')"
        >
          Romania
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('SanMarino','Europe')"
          style="
            background-image: url('assets/images/flags/san_marino_flag.png');
          "
        >
          San Marino
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Serbia','Europe')"
          style="background-image: url('assets/images/flags/serbia_flag.png')"
        >
          Serbia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Slovakia','Europe')"
          style="background-image: url('assets/images/flags/slovakia_flag.png')"
        >
          Slovakia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Slovenia','Europe')"
          style="background-image: url('assets/images/flags/slovenia_flag.png')"
        >
          Slovenia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Sweden','Europe')"
          style="background-image: url('assets/images/flags/sweden_flag.png')"
        >
          Sweden
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Switzerland','Europe')"
          style="
            background-image: url('assets/images/flags/switzerland_flag.png');
          "
        >
          Switzerland
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Turkey','Europe')"
          style="background-image: url('assets/images/flags/turkey_flag.png')"
        >
          Turkey
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('UnitedKingdom','Europe')"
          style="
            background-image: url('assets/images/flags/united_kingdom_flag.png');
          "
        >
          United Kingdom
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Vatican','Europe')"
          style="background-image: url('assets/images/flags/vatican_flag.png')"
        >
          Vatican
        </button>

        <!-- Add more buttons as needed -->
      </div>

      <!-- Latin America button -->
      <button
        class="continent-button"
        onclick="toggleContinent('Latin_America')"
        style="
          background-image: url('assets/images/flags/latin_america_flag.png');
        "
      >
        Latin America
      </button>

      <!-- Latin America country buttons, initially hidden -->
      <div
        id="Latin_America-country-buttons"
        class="country-buttons"
        style="display: block; overflow-y: auto; max-height: 300px"
      >
        <!-- Add buttons for Latin American countries here -->
        <button
          class="country-button"
          onclick="toggleCountry('Argentina','Latin_America')"
          style="
            background-image: url('assets/images/flags/argentina_flag.png');
          "
        >
          Argentina
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Bolivia','LatinAmerica')"
          style="background-image: url('assets/images/flags/bolivia_flag.png')"
        >
          Bolivia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Brazil','Latin_America')"
          style="background-image: url('assets/images/flags/brazil_flag.png')"
        >
          Brazil
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Chile','Latin_America')"
          style="background-image: url('assets/images/flags/chile_flag.png')"
        >
          Chile
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Colombia','Latin_America')"
          style="background-image: url('assets/images/flags/colombia_flag.png')"
        >
          Colombia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Ecuador','Latin_America')"
          style="background-image: url('assets/images/flags/ecuador_flag.png')"
        >
          Ecuador
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Guyana','Latin_America')"
          style="background-image: url('assets/images/flags/guyana_flag.png')"
        >
          Guyana
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Paraguay','Latin_America')"
          style="background-image: url('assets/images/flags/paraguay_flag.png')"
        >
          Paraguay
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Peru')"
          style="background-image: url('assets/images/flags/peru_flag.png')"
        >
          Peru
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Suriname','Latin_America')"
          style="background-image: url('assets/images/flags/suriname_flag.png')"
        >
          Suriname
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Uruguay','Latin_America')"
          style="background-image: url('assets/images/flags/uruguay_flag.png')"
        >
          Uruguay
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Venezuela','Latin_America')"
          style="
            background-image: url('assets/images/flags/venezuela_flag.png');
          "
        >
          Venezuela
        </button>
      </div>

      <!-- Pacific button -->
      <button
        class="continent-button"
        onclick="toggleContinent('Pacific')"
        style="background-image: url('assets/images/flags/pacific_flag.png')"
      >
        Pacific
      </button>

      <!-- Pacific country buttons, initially hidden -->
      <div
        id="Pacific-country-buttons"
        class="country-buttons"
        style="display: block; overflow-y: auto; max-height: 300px"
      >
        <!-- Add buttons for Pacific countries here -->
        <button
          class="country-button"
          onclick="toggleCountry('Australia','Pacific')"
          style="
            background-image: url('assets/images/flags/australia_flag.png');
          "
        >
          Australia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Fiji','Pacific')"
          style="background-image: url('assets/images/flags/fiji_flag.png')"
        >
          Fiji
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Kiribati','Pacific')"
          style="background-image: url('assets/images/flags/kiribati_flag.png')"
        >
          Kiribati
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Marshall_Islands','Pacific')"
          style="background-image: url('assets/images/flags/marshall_islands_flag.png')"
        >
          Marshall Islands
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Micronesia','Pacific')"
          style="background-image: url('assets/images/flags/micronesa_flag.png')"
        >
          Micronesia
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Nauru','Pacific')"
          style="background-image: url('assets/images/flags/nauru_flag.png')"
        >
          Nauru
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('New_Zealand','Pacific')"
          style="background-image: url('assets/images/flags/new_zealand_flag.png')"
        >
          New Zealand
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Palau','Pacific')"
          style="background-image: url('assets/images/flags/palau_flag.png')"
        >
          Palau
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Papa_New_Guineau','Pacific')"
          style="background-image: url('assets/images/flags/papa_new_guineau_flag.png')"
        >
          Papa New Guineau
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Samoa','Pacific')"
          style="background-image: url('assets/images/flags/samoa_flag.png')"
        >
          Samoa
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Solomon_Islands','Pacific')"
          style="background-image: url('assets/images/flags/solomon_islands_flag.png')"
        >
          Solomon Islands
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Tonga','Pacific')"
          style="
            background-image: url('assets/images/flags/tonga_flag.png');
          "
        >
          Tonga
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Tuvalu','Pacific')"
          style="
            background-image: url('assets/images/flags/tuvalu_flag.png');
          "
        >
          Tuvalu
        </button>

        <button
          class="country-button"
          onclick="toggleCountry('Vanatu','Pacific')"
          style="
            background-image: url('assets/images/flags/vanatu_flag.png');
          "
        >
          Vanatu
        </button>
      </div>

    </div>

    <!-- Main content area where the country's bucket list and map will be displayed -->
    <div class="main-content">
      <h1></h1>

      <!-- Content containers for each continent's bucket list -->
      <div id="Global" class="continent-container" style="display: none"></div>
      <div id="Africa" class="continent-container" style="display: none"></div>
      <div
        id="Americas"
        class="continent-container"
        style="display: none"
      ></div>
      <div id="Asia" class="continent-container" style="display: none"></div>
      <div id="Europe" class="continent-container" style="display: none"></div>
      <div
        id="Latin_America"
        class="continent-container"
        style="display: none"
      ></div>
      <div id="Pacific" class="continent-container" style="display: none"></div>

      <!-- Content containers for each country's bucket list -->
      <div id="country-divs-container">
        <div id="Albania" class="country-container" style="display: none"></div>
        <div id="Andorra" class="country-container" style="display: none"></div>
        <div id="Austria" class="country-container" style="display: none"></div>
        <div id="Armenia" class="country-container" style="display: none"></div>
        <div
          id="Azerbaijan"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Belarus" class="country-container" style="display: none"></div>
        <div id="Belgium" class="country-container" style="display: none"></div>
        <div id="Bosnia" class="country-container" style="display: none"></div>
        <div
          id="Bulgaria"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Croatia" class="country-container" style="display: none"></div>
        <div id="Cyprus" class="country-container" style="display: none"></div>
        <div id="Czech" class="country-container" style="display: none"></div>
        <div id="Denmark" class="country-container" style="display: none"></div>
        <div id="Estonia" class="country-container" style="display: none"></div>
        <div id="Finland" class="country-container" style="display: none"></div>
        <div id="France" class="country-container" style="display: none"></div>
        <div id="Georgia" class="country-container" style="display: none"></div>
        <div id="Germany" class="country-container" style="display: none"></div>
        <div id="Greece" class="country-container" style="display: none"></div>
        <div id="Hungary" class="country-container" style="display: none"></div>
        <div id="Iceland" class="country-container" style="display: none"></div>
        <div id="Ireland" class="country-container" style="display: none"></div>
        <div id="Italy" class="country-container" style="display: none"></div>
        <div
          id="Kazakhstan"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Kosovo" class="country-container" style="display: none"></div>
        <div id="Latvia" class="country-container" style="display: none"></div>
        <div
          id="Liechtenstein"
          class="country-container"
          style="display: none"
        ></div>
        <div
          id="Lithuania"
          class="country-container"
          style="display: none"
        ></div>
        <div
          id="Luxembourg"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Malta" class="country-container" style="display: none"></div>
        <div id="Moldova" class="country-container" style="display: none"></div>
        <div id="Monaco" class="country-container" style="display: none"></div>
        <div
          id="Montenegro"
          class="country-container"
          style="display: none"
        ></div>
        <div
          id="Netherlands"
          class="country-container"
          style="display: none"
        ></div>
        <div
          id="NorthMacedonia"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Norway" class="country-container" style="display: none"></div>
        <div id="Poland" class="country-container" style="display: none"></div>
        <div
          id="Portugal"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Romania" class="country-container" style="display: none"></div>
        <div id="Russia" class="country-container" style="display: none"></div>
        <div
          id="SanMarino"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Serbia" class="country-container" style="display: none"></div>
        <div
          id="Slovakia"
          class="country-container"
          style="display: none"
        ></div>
        <div
          id="Slovenia"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Spain" class="country-container" style="display: none"></div>
        <div id="Sweden" class="country-container" style="display: none"></div>
        <div
          id="Switzerland"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Turkey" class="country-container" style="display: none"></div>

        <div
          id="UnitedKingdom"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Vatican" class="country-container" style="display: none"></div>
        <div
          id="Argentina"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Bolivia" class="country-container" style="display: none"></div>
        <div id="Brazil" class="country-container" style="display: none"></div>
        <div id="Chile" class="country-container" style="display: none"></div>
        <div
          id="Colombia"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Ecuador" class="country-container" style="display: none"></div>
        <div id="Guyana" class="country-container" style="display: none"></div>
        <div
          id="Paraguay"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Peru" class="country-container" style="display: none"></div>
        <div
          id="Suriname"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Uruguay" class="country-container" style="display: none"></div>
        <div
          id="Venezuela"
          class="country-container"
          style="display: none"
        ></div>

        <div
          id="Australia"
          class="country-container"
          style="display: none"
        ></div>
        <div id="Fiji" class="country-container" style="display: none"></div>
        <div id="Kiribati" class="country-container" style="display: none"></div>

        <div id="Marshall_Islands" class="country-container" style="display: none"></div>
        <div id="Micronesia" class="country-container" style="display: none"></div>

        <div id="Nauru" class="country-container" style="display: none"></div>
        <div id="New_Zealand" class="country-container" style="display: none"></div>

        <div id="Palau" class="country-container" style="display: none"></div>
        <div id="Papau_New_Guineai" class="country-container" style="display: none"></div>
        <div id="Samoa" class="country-container" style="display: none"></div>
        <div id="Solomon_Islands" class="country-container" style="display: none"></div>

        <div id="Tonga" class="country-container" style="display: none"></div>
        <div id="Tuvalu" class="country-container" style="display: none"></div>

        <div id="Vanuatu" class="country-container" style="display: none"></div>
      </div>

      <div id="map" style="height: 400px; width: 50%"></div>
    </div>

    <script>
      // Function to dynamically load the Google Maps script
      function loadGoogleMapsApi(apiKey) {
        var script = document.createElement("script");
        script.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&callback=initMap`;
        script.async = true;
        script.defer = true;
        document.head.appendChild(script);
      }

      let lastSelectedContinent = null; // Global variable to track the last selected continent

      function toggleContinent(continent) {
        var selectedContainer = document.getElementById(continent);
        var countryButtonContainerId = continent + "-country-buttons";
        var countryButtonContainer = document.getElementById(
          countryButtonContainerId
        );

        // Toggle the display of the country buttons
        if (
          countryButtonContainer.style.display === "none" ||
          !countryButtonContainer.style.display
        ) {
          countryButtonContainer.style.display = "block";
        } else {
          countryButtonContainer.style.display = "none";
        }

        // Check if continent data is currently shown
        var isContinentDataVisible = selectedContainer.style.display === "flex";

        // Hide all country and continent containers first, but only if a different continent is selected
        if (continent !== lastSelectedContinent) {
          var containers = document.querySelectorAll(
            ".country-container, .continent-container"
          );
          containers.forEach(function (container) {
            container.style.display = "none";
          });
        }

        if (!isContinentDataVisible || continent !== lastSelectedContinent) {
          // If continent data was not visible or a different continent is selected, show it
          selectedContainer.style.display = "flex";
          if (continent !== lastSelectedContinent) {
            selectedContainer.innerHTML = ""; // Clear existing content only if a different continent is selected

            fetchBucketList(continent)
              .then((bucketList) => {
                bucketList.sort((a, b) => b.score - a.score);
                const numItems = bucketList.length;

                bucketList.forEach((item, index) => {
                  // Logic to create buttons and dropdown content for each item
                  let button = document.createElement("button");
                  button.className = `bucket-list-button ${
                    item.category.toLowerCase() || "default-category"
                  }`;
                  button.style.width = "450px"; // Set button width
                  let continentImage = `assets/images/bucketlist/${continent.toLowerCase()}.png`;
                  button.style.backgroundImage = `url('${continentImage}')`;
                  button.style.backgroundSize = `cover`;
                  button.style.backgroundPosition = `0% ${index * 10}%`;
                  button.textContent = item.name; // Set the text content

                  let dropdownContent = document.createElement("div");
                  dropdownContent.className = "dropdown-content";
                  dropdownContent.style.display = "none";
                  // Initially hidden
                  dropdownContent.style.width = "450px"; // Set dropdown content width

                  // Container for Description
                  let descriptionContainer = document.createElement("div");
                  descriptionContainer.className = "description-container";

                  // Set softer and harmonious colors based on the category
                  const categoryColorMap = {
                    Adventure: "#FFCCBC", // Light Coral for Adventure
                    Culture: "#FFF9C4", // Lemon Chiffon for Culture
                    Food: "#C8E6C9", // Honeydew for Food
                    Relaxation: "#BBDEFB", // Light Blue for Relaxation
                    Nature: "#FFE0B2", // Peach for Nature
                    Gastronomy: "#D1C4E9", // Thistle for Gastronomy
                    Leisure: "#B3E5FC", // Light Sky Blue for Leisure
                    History: "#F8BBD0", // Light Pink for History
                    // Add or modify categories and colors as needed
                  };
                  let categoryColor =
                    categoryColorMap[item.category] || "#f9f9f9"; // Default color if category not found

                  // Apply styles to the description container
                  descriptionContainer.style.padding = "15px";
                  descriptionContainer.style.marginTop = "5px";
                  descriptionContainer.style.background = categoryColor; // Set the background color based on category
                  descriptionContainer.style.border = "1px solid #ddd";
                  descriptionContainer.style.borderRadius = "4px";
                  descriptionContainer.style.boxShadow =
                    "0 2px 5px rgba(0,0,0,0.2)";
                  descriptionContainer.style.maxHeight = "150px";
                  descriptionContainer.style.overflowY = "auto";
                  descriptionContainer.style.position = "relative"; // Position relative to place cost absolutely
                  descriptionContainer.innerHTML = `<p><b>${item.name}</b> - ${item.description}</p>`;

                  // Create a span for the cost and position it in the lower right-hand corner
                  let costSpan = document.createElement("span");
                  costSpan.style.position = "absolute";
                  costSpan.style.bottom = "5px";
                  costSpan.style.right = "15px";
                  costSpan.style.fontWeight = "bold";
                  costSpan.textContent = item.cost;

                  // Append the description container to the dropdown content
                  dropdownContent.appendChild(descriptionContainer);

                  // Create two containers for month buttons, one for each row
                  let monthButtonContainerRow1 = document.createElement("div");
                  let monthButtonContainerRow2 = document.createElement("div");

                  [monthButtonContainerRow1, monthButtonContainerRow2].forEach(
                    (container) => {
                      container.style.display = "flex";
                      container.style.justifyContent = "start";
                      container.style.marginBottom = "20px";
                    }
                  );

                  // Create a container for month buttons
                  let monthButtonContainer = document.createElement("div");
                  monthButtonContainer.style.display = "flex";
                  monthButtonContainer.style.flexWrap = "wrap";
                  monthButtonContainer.style.justifyContent = "start";
                  monthButtonContainer.style.alignItems = "center";
                  monthButtonContainer.style.marginTop = "10px";
                  monthButtonContainer.style.marginBottom = "10px";

                  // Function to create a month button
                  const createMonthButton = (
                    month,
                    isBestTime,
                    isWorstTime,
                    isSecondRow
                  ) => {
                    let button = document.createElement("button");
                    button.textContent = month;
                    button.style.marginRight = "5px";
                    button.style.marginBottom = isSecondRow ? "3px" : "5px"; // Reduced margin for second row
                    button.style.padding = "3px 6px";
                    button.style.fontSize = "12px";
                    button.style.border = "none";
                    button.style.borderRadius = "4px";
                    button.style.cursor = "pointer";

                    if (isBestTime) {
                      button.style.background = "#4CAF50"; // Green background
                    } else if (isWorstTime) {
                      button.style.background = "#F44336"; // Red background
                    } else {
                      button.style.background = "#FFFFFF"; // White background for neutral
                      button.style.color = "#000000"; // Black text for visibility
                    }

                    return button;
                  };

                  const months = [
                    "January",
                    "February",
                    "March",
                    "April",
                    "May",
                    "June",
                    "July",
                    "August",
                    "September",
                    "October",
                    "November",
                    "December",
                  ];

                  // Create buttons for each month and append to the appropriate row container
                  months.forEach((month, index) => {
                    const isBestTime = item.best_time_to_go.includes(month);
                    const isWorstTime = item.worst_time_to_go.includes(month);
                    const isSecondRow = index >= 6;

                    let button = createMonthButton(
                      month,
                      isBestTime,
                      isWorstTime,
                      isSecondRow
                    );

                    if (!isSecondRow) {
                      monthButtonContainerRow1.appendChild(button);
                    } else {
                      monthButtonContainerRow2.appendChild(button);
                    }
                  });

                  let spacer = document.createElement("div");
                  spacer.style.height = "20px"; // Adjust the value as needed
                  dropdownContent.appendChild(spacer); // Adding the spacer before the month buttons
                  dropdownContent.appendChild(monthButtonContainerRow1);
                  dropdownContent.appendChild(monthButtonContainerRow2);

                  // Append the cost span to the description container
                  descriptionContainer.appendChild(costSpan);

                  // Create a container for the time to go buttons
                  let timeToGoButtonsContainer = document.createElement("div");
                  timeToGoButtonsContainer.style.display = "flex";
                  timeToGoButtonsContainer.style.justifyContent = "start";
                  timeToGoButtonsContainer.style.marginTop = "10px";

                  // Function to create a description button with a specific color
                  const createDescriptionButton = (
                    text,
                    description,
                    bgColor
                  ) => {
                    let button = document.createElement("button");
                    button.textContent = text;
                    button.style.marginRight = "10px";
                    button.style.padding = "5px 10px";
                    button.style.border = "none";
                    button.style.borderRadius = "4px";
                    button.style.cursor = "pointer";
                    button.style.background = bgColor; // Set background color
                    button.onclick = () => {
                      if (
                        timeDescriptionContainer.textContent === description &&
                        timeDescriptionContainer.style.display === "block"
                      ) {
                        timeDescriptionContainer.style.display = "none"; // Hide the container if it's already showing this description
                      } else {
                        timeDescriptionContainer.textContent = description; // Set the content
                        timeDescriptionContainer.style.display = "block"; // Show the container
                      }
                    };
                    return button;
                  };

                  // Best time to go button with green background
                  let bestTimeButton = createDescriptionButton(
                    "Best Time to Go ", // Heavy Plus Sign in a circle
                    item.best_time_to_go_description,
                    "#4CAF50" // Green color
                  );

                  // Worst time to go button with red background
                  let worstTimeButton = createDescriptionButton(
                    "Worst Time to Go ", // Heavy Minus Sign in a circle
                    item.worst_time_to_go_description,
                    "#F44336" // Red color
                  );

                  // Append the buttons to their container
                  timeToGoButtonsContainer.appendChild(bestTimeButton);
                  timeToGoButtonsContainer.appendChild(worstTimeButton);

                  // Append the buttons container to the dropdown content
                  dropdownContent.appendChild(timeToGoButtonsContainer);

                  // Create a container for time descriptions
                  let timeDescriptionContainer = document.createElement("div");
                  timeDescriptionContainer.style.display = "none"; // Initially hidden
                  timeDescriptionContainer.style.padding = "10px";
                  timeDescriptionContainer.style.marginTop = "20px";
                  timeDescriptionContainer.style.background = "#ECEFF1"; // Light grey background
                  timeDescriptionContainer.style.borderRadius = "4px";

                  // Append the time description container to the dropdown content
                  dropdownContent.appendChild(timeDescriptionContainer);

                  // Adding suggested venues
                  if (item.suggested_venues) {
                    let venuesContainer = document.createElement("div");
                    venuesContainer.className = "venues-container";
                    venuesContainer.innerHTML = "<h3>Suggested Venues</h3>";
                    venuesContainer.style.backgroundColor = "#f8f8f8";
                    venuesContainer.style.padding = "15px";
                    venuesContainer.style.borderRadius = "5px";
                    venuesContainer.style.boxShadow =
                      "0 4px 6px rgba(0,0,0,0.15)";
                    venuesContainer.style.marginTop = "10px";

                    let venuesList = document.createElement("ul");
                    venuesList.className = "venues-list";
                    venuesList.style.listStyle = "none";
                    venuesList.style.padding = "0";
                    item.suggested_venues.forEach((venue) => {
                      let venueItem = document.createElement("li");
                      venueItem.className = "venue-item";
                      venueItem.style.padding = "10px";
                      venueItem.style.borderBottom = "1px solid #eee";
                      venueItem.style.cursor = "pointer";
                      venueItem.style.transition =
                        "background-color 0.3s, color 0.3s"; // Smooth transition for hover effect
                      venueItem.innerHTML = `<b style="color: #333; font-size: 16px;">${venue.name}</b><br>
                                             <i style="color: #555;">${venue.description}</i><br>
                                             <i style="color: #777;"> ${venue.location}</i>`;

                      // Adding hover effect
                      venueItem.addEventListener("mouseover", function () {
                        this.style.backgroundColor = "#e0e0e0"; // Change color on hover
                        this.style.color = "#000"; // Change text color on hover
                      });

                      venueItem.addEventListener("mouseout", function () {
                        this.style.backgroundColor = "";
                        this.style.color = "";
                      });

                      venuesList.appendChild(venueItem);
                    });
                    venuesContainer.appendChild(venuesList);
                    dropdownContent.appendChild(venuesContainer);
                  }

                  // Event listener to toggle the dropdown content and zoom to location
                  button.onclick = () => {
                    let isVisible = dropdownContent.style.display === "flex";
                    dropdownContent.style.display = isVisible ? "none" : "flex";

                    // Call the function to re-center and zoom the map
                    zoomToLocation(item);
                  };

                  selectedContainer.appendChild(button);
                  selectedContainer.appendChild(dropdownContent);
                });
                // plotPointsOnMap(bucketList);
                plotPointsOnMap(bucketList);
              })
              .catch((error) => {
                console.error("Error fetching bucket list: ", error);
              });
            lastSelectedContinent = continent; // Update the last selected continent
          }
        }
      }

      // Modified function to fetch data for a country or continent
      function fetchBucketList(location) {
        return fetch(`data/json/${location.toLowerCase()}.json`)
          .then((response) => {
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.json();
          })
          .then((data) => {
            // Sort the data by score in descending order
            return data.sort((a, b) => b.score - a.score);
          })
          .catch((error) => {
            console.error("Fetching error: ", error);
            return []; // Return an empty array in case of an error
          });
      }

      function toggleCountry(country, continent) {
        // Hide all country containers
        var containers = document.querySelectorAll(".country-container");
        containers.forEach(function (container) {
          container.style.display = "none";
        });

        // Hide the continent container if it's visible
        if (continent) {
          var continentContainer = document.getElementById(continent);
          if (
            continentContainer &&
            continentContainer.style.display === "flex"
          ) {
            continentContainer.style.display = "none";
            continentContainer.innerHTML = ""; // Clear its content
          }
        }
        var selectedContainer = document.getElementById(country);
        selectedContainer.innerHTML = ""; // Clear existing content
        selectedContainer.style.display = "flex"; // Display as flex to align buttons horizontally

        // Fetch bucket list and populate map
        fetchBucketList(country)
          .then((bucketList) => {
            bucketList.sort((a, b) => b.score - a.score);
            const numItems = bucketList.length;

            bucketList.forEach((item, index) => {
              // Create the button for each bucket list item
              let button = document.createElement("button");
              button.className = `bucket-list-button ${
                item.category.toLowerCase() || "default-category"
              }`;
              button.style.width = "450px"; // Set button width
              let countryImage = `assets/images/bucketlist/${country.toLowerCase()}.png`;
              button.style.backgroundImage = `url('${countryImage}')`;
              button.style.backgroundSize = `cover`;
              button.style.backgroundPosition = `0% ${index * 10}%`;
              button.textContent = item.name; // Set the text content

              // Create a container for the dropdown content
              let dropdownContent = document.createElement("div");
              dropdownContent.className = "dropdown-content";
              dropdownContent.style.display = "none"; // Initially hidden
              dropdownContent.style.width = "450px"; // Set dropdown content width

              // Container for Description
              let descriptionContainer = document.createElement("div");
              descriptionContainer.className = "description-container";

              // Set softer and harmonious colors based on the category
              const categoryColorMap = {
                Adventure: "#FFCCBC", // Light Coral for Adventure
                Culture: "#FFF9C4", // Lemon Chiffon for Culture
                Food: "#C8E6C9", // Honeydew for Food
                Relaxation: "#BBDEFB", // Light Blue for Relaxation
                Nature: "#FFE0B2", // Peach for Nature
                Gastronomy: "#D1C4E9", // Thistle for Gastronomy
                Leisure: "#B3E5FC", // Light Sky Blue for Leisure
                History: "#F8BBD0", // Light Pink for History
                // Add or modify categories and colors as needed
              };
              let categoryColor = categoryColorMap[item.category] || "#f9f9f9"; // Default color if category not found

              // Apply styles to the description container
              descriptionContainer.style.padding = "15px";
              descriptionContainer.style.marginTop = "5px";
              descriptionContainer.style.background = categoryColor; // Set the background color based on category
              descriptionContainer.style.border = "1px solid #ddd";
              descriptionContainer.style.borderRadius = "4px";
              descriptionContainer.style.boxShadow =
                "0 2px 5px rgba(0,0,0,0.2)";
              descriptionContainer.style.maxHeight = "150px";
              descriptionContainer.style.overflowY = "auto";
              descriptionContainer.style.position = "relative"; // Position relative to place cost absolutely
              descriptionContainer.innerHTML = `<p><b>${item.name}</b> - ${item.description}</p>`;

              // Create a span for the cost and position it in the lower right-hand corner
              let costSpan = document.createElement("span");
              costSpan.style.position = "absolute";
              costSpan.style.bottom = "5px";
              costSpan.style.right = "15px";
              costSpan.style.fontWeight = "bold";
              costSpan.textContent = item.cost;

              // Append the description container to the dropdown content
              dropdownContent.appendChild(descriptionContainer);

              // Create two containers for month buttons, one for each row
              let monthButtonContainerRow1 = document.createElement("div");
              let monthButtonContainerRow2 = document.createElement("div");

              [monthButtonContainerRow1, monthButtonContainerRow2].forEach(
                (container) => {
                  container.style.display = "flex";
                  container.style.justifyContent = "start";
                  container.style.marginBottom = "20px";
                }
              );

              // Create a container for month buttons
              let monthButtonContainer = document.createElement("div");
              monthButtonContainer.style.display = "flex";
              monthButtonContainer.style.flexWrap = "wrap";
              monthButtonContainer.style.justifyContent = "start";
              monthButtonContainer.style.alignItems = "center";
              monthButtonContainer.style.marginTop = "10px";
              monthButtonContainer.style.marginBottom = "10px";

              // Function to create a month button
              const createMonthButton = (
                month,
                isBestTime,
                isWorstTime,
                isSecondRow
              ) => {
                let button = document.createElement("button");
                button.textContent = month;
                button.style.marginRight = "5px";
                button.style.marginBottom = isSecondRow ? "3px" : "5px"; // Reduced margin for second row
                button.style.padding = "3px 6px";
                button.style.fontSize = "12px";
                button.style.border = "none";
                button.style.borderRadius = "4px";
                button.style.cursor = "pointer";

                if (isBestTime) {
                  button.style.background = "#4CAF50"; // Green background
                } else if (isWorstTime) {
                  button.style.background = "#F44336"; // Red background
                } else {
                  button.style.background = "#FFFFFF"; // White background for neutral
                  button.style.color = "#000000"; // Black text for visibility
                }

                return button;
              };
              // List of all months
              const months = [
                "January",
                "February",
                "March",
                "April",
                "May",
                "June",
                "July",
                "August",
                "September",
                "October",
                "November",
                "December",
              ];

              // Create buttons for each month and append to the appropriate row container
              months.forEach((month, index) => {
                const isBestTime = item.best_time_to_go.includes(month);
                const isWorstTime = item.worst_time_to_go.includes(month);
                const isSecondRow = index >= 6;

                let button = createMonthButton(
                  month,
                  isBestTime,
                  isWorstTime,
                  isSecondRow
                );

                if (!isSecondRow) {
                  monthButtonContainerRow1.appendChild(button);
                } else {
                  monthButtonContainerRow2.appendChild(button);
                }
              });

              let spacer = document.createElement("div");
              spacer.style.height = "20px"; // Adjust the value as needed
              dropdownContent.appendChild(spacer); // Adding the spacer before the month buttons
              dropdownContent.appendChild(monthButtonContainerRow1);
              dropdownContent.appendChild(monthButtonContainerRow2);

              // Append the cost span to the description container
              descriptionContainer.appendChild(costSpan);

              // Create a container for the time to go buttons
              let timeToGoButtonsContainer = document.createElement("div");
              timeToGoButtonsContainer.style.display = "flex";
              timeToGoButtonsContainer.style.justifyContent = "start";
              timeToGoButtonsContainer.style.marginTop = "10px";

              // Function to create a description button with a specific color
              const createDescriptionButton = (text, description, bgColor) => {
                let button = document.createElement("button");
                button.textContent = text;
                button.style.marginRight = "10px";
                button.style.padding = "5px 10px";
                button.style.border = "none";
                button.style.borderRadius = "4px";
                button.style.cursor = "pointer";
                button.style.background = bgColor; // Set background color
                button.onclick = () => {
                  if (
                    timeDescriptionContainer.textContent === description &&
                    timeDescriptionContainer.style.display === "block"
                  ) {
                    timeDescriptionContainer.style.display = "none"; // Hide the container if it's already showing this description
                  } else {
                    timeDescriptionContainer.textContent = description; // Set the content
                    timeDescriptionContainer.style.display = "block"; // Show the container
                  }
                };
                return button;
              };

              // Best time to go button with green background
              let bestTimeButton = createDescriptionButton(
                "Best Time to Go ", // Heavy Plus Sign in a circle
                item.best_time_to_go_description,
                "#4CAF50" // Green color
              );

              // Worst time to go button with red background
              let worstTimeButton = createDescriptionButton(
                "Worst Time to Go ", // Heavy Minus Sign in a circle
                item.worst_time_to_go_description,
                "#F44336" // Red color
              );

              // Append the buttons to their container
              timeToGoButtonsContainer.appendChild(bestTimeButton);
              timeToGoButtonsContainer.appendChild(worstTimeButton);

              // Append the buttons container to the dropdown content
              dropdownContent.appendChild(timeToGoButtonsContainer);

              // Create a container for time descriptions
              let timeDescriptionContainer = document.createElement("div");
              timeDescriptionContainer.style.display = "none"; // Initially hidden
              timeDescriptionContainer.style.padding = "10px";
              timeDescriptionContainer.style.marginTop = "20px";
              timeDescriptionContainer.style.background = "#ECEFF1"; // Light grey background
              timeDescriptionContainer.style.borderRadius = "4px";

              // Append the time description container to the dropdown content
              dropdownContent.appendChild(timeDescriptionContainer);

              // Adding suggested venues
              if (item.suggested_venues) {
                let venuesContainer = document.createElement("div");
                venuesContainer.className = "venues-container";
                venuesContainer.innerHTML = "<h3>Suggested Venues</h3>";
                venuesContainer.style.backgroundColor = "#f8f8f8";
                venuesContainer.style.padding = "15px";
                venuesContainer.style.borderRadius = "5px";
                venuesContainer.style.boxShadow = "0 4px 6px rgba(0,0,0,0.15)";
                venuesContainer.style.marginTop = "10px";

                let venuesList = document.createElement("ul");
                venuesList.className = "venues-list";
                venuesList.style.listStyle = "none";
                venuesList.style.padding = "0";
                item.suggested_venues.forEach((venue) => {
                  let venueItem = document.createElement("li");
                  venueItem.className = "venue-item";
                  venueItem.style.padding = "10px";
                  venueItem.style.borderBottom = "1px solid #eee";
                  venueItem.style.cursor = "pointer";
                  venueItem.style.transition =
                    "background-color 0.3s, color 0.3s"; // Smooth transition for hover effect
                  venueItem.innerHTML = `<b style="color: #333; font-size: 16px;">${venue.name}</b><br>
                                             <i style="color: #555;">${venue.description}</i><br>
                                             <i style="color: #777;"> ${venue.location}</i>`;

                  // Adding hover effect
                  venueItem.addEventListener("mouseover", function () {
                    this.style.backgroundColor = "#e0e0e0"; // Change color on hover
                    this.style.color = "#000"; // Change text color on hover
                  });

                  venueItem.addEventListener("mouseout", function () {
                    this.style.backgroundColor = "";
                    this.style.color = "";
                  });

                  venuesList.appendChild(venueItem);
                });
                venuesContainer.appendChild(venuesList);
                dropdownContent.appendChild(venuesContainer);
              }

              // Event listener to toggle the dropdown content and zoom to location
              button.onclick = () => {
                let isVisible = dropdownContent.style.display === "flex";
                dropdownContent.style.display = isVisible ? "none" : "flex";

                // Call the function to re-center and zoom the map
                zoomToLocation(item);
              };

              selectedContainer.appendChild(button);
              selectedContainer.appendChild(dropdownContent);
            });

            plotPointsOnMap(bucketList);
          })
          .catch((error) => {
            console.error("Error fetching bucket list: ", error);
          });
      }

      function plotPointsOnMap(bucketList) {
        clearMarkers(); // Clear existing markers

        var bounds = new google.maps.LatLngBounds();
        bucketList.forEach((item) => {
          var position = new google.maps.LatLng(item.latitude, item.longitude);
          var marker = new google.maps.Marker({
            position: position,
            map: map,
            title: item.name, // Tooltip text on hover
          });

          // Creating an InfoWindow for each marker
          var infoWindow = new google.maps.InfoWindow({
            content: item.name, // Name of the bucket list activity
          });

          // Adding a click event listener to the marker
          marker.addListener("click", function () {
            infoWindow.open(map, marker);
          });

          markers.push(marker); // Add marker to the global array
          bounds.extend(position); // Extend the bounds for each marker
        });

        map.fitBounds(bounds); // Adjust the map to new bounds
      }

      // Rest of your existing code remains the same

      function clearMarkers() {
        for (let i = 0; i < markers.length; i++) {
          markers[i].setMap(null);
        }
        markers = [];
      }

      var map;
      var markers = []; // Global array to store markers

      // Initialization function for the map
      function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
          zoom: 6,
          center: { lat: 48.8566, lng: 2.3522 }, // Center on Paris
        });
      }

      //  fetch("http://localhost:3000/api/maps-key") // for local deployment

      // Function to fetch the API key and load the Google Maps script
      function fetchAndLoadGoogleMapsApi() {
        fetch("http://localhost:3000/api/maps-key")
          .then((response) => response.json())
          .then((data) => {
            if (data.apiKey) {
              loadGoogleMapsApi(data.apiKey);
            }
          })
          .catch((error) => console.error("Error fetching API key:", error));
      }

      // Function to zoom to a specific location
      // Function to zoom to a specific location and highlight the marker
      function zoomToLocation(item) {
        const originalZoomLevel = 5; // Original zoom level for the entire country view
        const detailedZoomLevel = 7; // Closer view zoom level

        // Zoom out to the original level
        map.setZoom(originalZoomLevel);

        // Define the position for the new location
        const position = new google.maps.LatLng(item.latitude, item.longitude);

        // Zoom in to the new location after a short delay
        setTimeout(() => {
          map.setCenter(position);
          map.setZoom(detailedZoomLevel);

          // Reset all markers to the default icon and highlight the selected one
          markers.forEach((marker) => {
            marker.setIcon(null); // Reset to default icon
            if (marker.getTitle() === item.name) {
              // Change marker icon for the selected item
              marker.setIcon(
                "http://maps.google.com/mapfiles/ms/icons/green-dot.png"
              );
            }
          });
        }, 500); // Delay in milliseconds (1000 ms = 1 second)
      }

      // Global variable for the map
      var map;
      var markers = []; // Global array to store markers

      // Call the function to start the process
      fetchAndLoadGoogleMapsApi();
    </script>
  </body>
</html>
